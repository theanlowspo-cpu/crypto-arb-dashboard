<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŸ é–‹å¿ƒå¥—åˆ©å°å»šæˆ¿ | CYBERPUNK</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', Arial, sans-serif; background: #0a0a0f; min-height: 100vh; color: #e0e0e0; }
.header { background: linear-gradient(90deg, #1a0a2e, #16213e, #1a0a2e); color: white; padding: 20px; text-align: center; box-shadow: 0 4px 30px rgba(255,0,100,0.3); position: relative; overflow: hidden; border-bottom: 2px solid #ff0066; }
.header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,0,102,0.03) 2px, rgba(255,0,102,0.03) 4px); pointer-events: none; }
.header h1 { font-family: 'Orbitron', monospace; font-size: 2em; text-shadow: 0 0 10px #ff0066, 0 0 20px #ff0066, 0 0 40px #ff0066; color: #ffcc00; letter-spacing: 3px; }
.header .subtitle { font-size: 1.1em; opacity: 0.9; margin-top: 5px; color: #00ffcc; text-shadow: 0 0 8px #00ffcc; }
.header .mascot { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); width: 80px; height: 80px; border-radius: 50%; border: 3px solid #ff0066; object-fit: cover; box-shadow: 0 0 15px #ff0066; }
.header .mascot-left { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); width: 80px; height: 80px; border-radius: 50%; border: 3px solid #00ffcc; object-fit: cover; box-shadow: 0 0 15px #00ffcc; }
.status-bar { background: linear-gradient(90deg, #1a0a2e, #0d1b2a); padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; font-weight: bold; color: #00ffcc; flex-wrap: wrap; gap: 10px; border-bottom: 1px solid rgba(0,255,204,0.2); }
.status-item { display: flex; align-items: center; gap: 5px; }
.status-dot { width: 12px; height: 12px; border-radius: 50%; display: inline-block; }
.dot-green { background: #00ff88; box-shadow: 0 0 12px #00ff88; animation: pulse 2s infinite; }
.dot-red { background: #ff0066; box-shadow: 0 0 12px #ff0066; animation: pulse 2s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.5} }
.container { max-width: 1200px; margin: 0 auto; padding: 20px; }
.summary-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 12px; margin-bottom: 20px; }
.card { background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 16px; padding: 16px; box-shadow: 0 4px 15px rgba(0,255,204,0.1); text-align: center; border: 1px solid rgba(0,255,204,0.2); transition: transform 0.2s, box-shadow 0.2s; }
.card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(255,0,102,0.3); border-color: #ff0066; }
.card .emoji { font-size: 1.8em; }
.card .label { color: #888; font-size: 0.8em; margin-top: 4px; }
.card .value { font-size: 1.5em; font-weight: bold; margin-top: 4px; font-family: 'Orbitron', monospace; }
.card .sub { font-size: 0.7em; color: #666; margin-top: 2px; }
.profit { color: #00ff88; text-shadow: 0 0 8px rgba(0,255,136,0.5); }
.loss { color: #ff0066; text-shadow: 0 0 8px rgba(255,0,102,0.5); }
.neutral { color: #ffcc00; text-shadow: 0 0 8px rgba(255,204,0,0.5); }
.section-title { font-family: 'Orbitron', monospace; font-size: 1.3em; color: #ff0066; margin: 20px 0 12px; display: flex; align-items: center; gap: 8px; text-shadow: 0 0 10px rgba(255,0,102,0.5); }
.pos-card { background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 16px; padding: 18px; box-shadow: 0 4px 15px rgba(0,255,204,0.1); border-left: 5px solid #00ff88; margin-bottom: 12px; border: 1px solid rgba(0,255,204,0.15); }
.pos-card.empty { border-left-color: #ffcc00; }
.pos-card .sym { font-size: 1.2em; font-weight: bold; color: #ffcc00; font-family: 'Orbitron', monospace; text-shadow: 0 0 8px rgba(255,204,0,0.5); }
.pos-card .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; margin-top: 10px; font-size: 0.85em; }
.pos-card .grid .k { color: #888; }
.pos-card .grid .v { font-weight: bold; text-align: right; }
.rate-badge { display: inline-block; background: rgba(0,255,136,0.15); color: #00ff88; padding: 2px 8px; border-radius: 10px; font-size: 0.8em; font-weight: bold; margin-left: 8px; border: 1px solid rgba(0,255,136,0.3); }
.rate-badge.neg { background: rgba(255,0,102,0.15); color: #ff0066; border-color: rgba(255,0,102,0.3); }
.history-table { width: 100%; background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 16px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,255,204,0.1); margin-bottom: 20px; border: 1px solid rgba(0,255,204,0.15); }
.history-table table { width: 100%; border-collapse: collapse; }
.history-table th { background: linear-gradient(90deg, #ff0066, #cc0052); color: white; padding: 10px 12px; text-align: left; font-size: 0.85em; font-family: 'Orbitron', monospace; }
.history-table td { padding: 8px 12px; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 0.8em; }
.history-table tr:hover { background: rgba(255,0,102,0.1); }
.acct-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 0.9em; }
.acct-row:last-child { border-bottom: none; }
.acct-row .k { color: #888; }
.acct-row .v { font-weight: bold; color: #00ffcc; font-family: 'Orbitron', monospace; }
.rate-item { display: flex; align-items: center; gap: 6px; padding: 3px 0; }
.rate-item .rbar { height: 14px; border-radius: 3px; min-width: 3px; }
.rate-item .rbar.rpos { background: linear-gradient(90deg, #00ff88, #00ffcc); box-shadow: 0 0 8px rgba(0,255,136,0.3); }
.rate-item .rbar.rneg { background: linear-gradient(90deg, #ff0066, #ff3388); box-shadow: 0 0 8px rgba(255,0,102,0.3); }
.rate-item .rlbl { font-size: 0.7em; color: #888; min-width: 75px; }
.rate-item .rval { font-size: 0.75em; font-weight: bold; min-width: 55px; text-align: right; }
.cute-section { text-align: center; padding: 15px; }
.cute-section img { width: 100px; height: 100px; border-radius: 50%; border: 3px solid #ff0066; margin: 0 8px; box-shadow: 0 0 20px rgba(255,0,102,0.4); }
@keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
@keyframes neonGlow { 0%,100%{box-shadow: 0 0 15px rgba(255,0,102,0.4)} 50%{box-shadow: 0 0 25px rgba(0,255,204,0.6)} }
.floating { animation: float 3s ease-in-out infinite; }
.neon-border { animation: neonGlow 3s ease-in-out infinite; }
.footer { text-align: center; padding: 15px; color: #666; font-size: 0.85em; }
.footer p { color: #888; }
.scanline { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 999; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,204,0.008) 2px, rgba(0,255,204,0.008) 4px); }
@media (max-width: 600px) {
  .header h1 { font-size: 1.3em; }
  .header .mascot, .header .mascot-left { display: none; }
  .summary-cards { grid-template-columns: repeat(2, 1fr); }
  .card .value { font-size: 1.2em; }
  .pos-card .grid { font-size: 0.8em; }
}
</style>
</head>
<body>
<div class="scanline"></div>
<div class="header">
  <img src="img/ronald.png" class="mascot-left neon-border" alt="éº¥ç•¶å‹å”å”">
  <h1>ğŸŸ é–‹å¿ƒå¥—åˆ©å°å»šæˆ¿ ğŸ”</h1>
  <div class="subtitle">âš¡ Delta Neutral å¤šå¹£ç¨®è¼ªå‹• v2.0 ğŸ’°</div>
  <img src="img/burger_thief1.jpg" class="mascot neon-border" alt="æ¼¢å ¡ç¥å·">
</div>
<div class="status-bar">
  <div class="status-item"><span class="status-dot dot-green" id="statusDot"></span><span id="statusText">è¼‰å…¥ä¸­...</span></div>
  <div class="status-item">ğŸ• <span id="lastUpdate">--</span></div>
  <div class="status-item">â±ï¸ çµç®—: <span id="countdown">--</span></div>
</div>
<div class="container">
  <div class="summary-cards">
    <div class="card"><div class="emoji">â‚¿</div><div class="label">BTC</div><div class="value" id="btcPrice">--</div></div>
    <div class="card"><div class="emoji">ğŸ“Š</div><div class="label">æŒå€‰æ•¸</div><div class="value" id="posCount">0/3</div></div>
    <div class="card"><div class="emoji">ğŸ’°</div><div class="label">è²»ç‡æ”¶ç›Š</div><div class="value profit" id="fundingEarned">$0</div></div>
    <div class="card"><div class="emoji">ğŸ’¸</div><div class="label">æ‰‹çºŒè²»</div><div class="value loss" id="totalFees">$0</div></div>
    <div class="card"><div class="emoji">ğŸ“ˆ</div><div class="label">æ·¨åˆ©æ½¤</div><div class="value" id="netProfit">$0</div></div>
    <div class="card"><div class="emoji">ğŸ”„</div><div class="label">äº¤æ˜“æ¬¡æ•¸</div><div class="value" id="tradeCount">0</div></div>
  </div>

  <div class="section-title">ğŸŸ ç•¶å‰æŒå€‰</div>
  <div id="positionsArea"><div class="pos-card empty"><p style="text-align:center;color:#888">è¼‰å…¥ä¸­...</p></div></div>

  <div class="cute-section">
    <img src="img/hamster1.jpg" class="floating neon-border" alt="å€‰é¼ ">
    <img src="img/milkshake1.jpg" class="floating neon-border" style="animation-delay:0.5s" alt="å¥¶æ˜”">
    <img src="img/burger_thief2.jpg" class="floating neon-border" style="animation-delay:1s" alt="å¥¶æ˜”å¤§å“¥">
    <img src="img/birdie.png" class="floating neon-border" style="animation-delay:1.5s" alt="å¤§é³¥å§å§">
    <img src="img/fries1.jpg" class="floating neon-border" style="animation-delay:2s" alt="è–¯æ¢">
  </div>

  <div class="section-title">ğŸ’° å¸³æˆ¶</div>
  <div style="background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:16px;padding:18px;box-shadow:0 4px 15px rgba(0,255,204,0.1);margin-bottom:20px;border:1px solid rgba(0,255,204,0.15);" id="acctArea"><p style="text-align:center;color:#888">è¼‰å…¥ä¸­...</p></div>

  <div class="section-title">ğŸ“‹ äº¤æ˜“æ­·å²</div>
  <div class="history-table"><table><thead><tr><th>å¹£ç¨®</th><th>æŒæœ‰</th><th>è²»ç‡æ”¶ç›Š</th><th>æ‰‹çºŒè²»</th><th>æ·¨æç›Š</th><th>åŸå› </th></tr></thead><tbody id="histBody"><tr><td colspan="6" style="text-align:center;color:#888">è¼‰å…¥ä¸­...</td></tr></tbody></table></div>

  <div class="section-title">ğŸ“ˆ BTC è²»ç‡èµ°å‹¢ (è¿‘20æ¬¡)</div>
  <div style="background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:16px;padding:18px;box-shadow:0 4px 15px rgba(0,255,204,0.1);margin-bottom:20px;border:1px solid rgba(0,255,204,0.15);" id="rateChart"><p style="text-align:center;color:#888">è¼‰å…¥ä¸­...</p></div>

  <div class="footer">
    <div class="cute-section" style="padding:8px">
      <img src="img/milkshake2.jpg" class="floating neon-border" style="width:70px;height:70px;animation-delay:0.3s" alt="å¥¶æ˜”">
      <img src="img/rocket_cat1.jpg" class="floating neon-border" style="width:70px;height:70px;animation-delay:0.8s" alt="ç«ç®­è²“">
      <img src="img/rocket_cat2.jpg" class="floating neon-border" style="width:70px;height:70px;animation-delay:1.3s" alt="ç«ç®­è²“">
    </div>
    <p>ğŸ” ç”¨æ„›èˆ‡æ¼”ç®—æ³•è£½ä½œ <span style="color:#ff0066">â¤ï¸</span> çµ¦æœ€å¯æ„›çš„å¯¶è² ğŸŸ</p>
    <p style="margin-top:4px;color:#00ffcc">Delta Neutral v2.0 å¤šå¹£ç¨®è¼ªå‹• | æ¯ 5 åˆ†é˜æ›´æ–°</p>
    <p style="margin-top:4px;font-size:0.75em;color:#ff0066">ğŸŸ Ba da ba ba ba~ I'm lovin' it ğŸ’•</p>
  </div>
</div>
<script>
async function load(){try{const r=await fetch('data.json?t='+Date.now());render(await r.json())}catch(e){document.getElementById('statusText').textContent='âŒ è¼‰å…¥å¤±æ•—'}}
function fmt(ts){return ts?new Date(ts).toLocaleString('zh-TW',{timeZone:'Asia/Taipei',hour12:false}):'--'}
function short(ts){return ts?new Date(ts).toLocaleString('zh-TW',{timeZone:'Asia/Taipei',month:'numeric',day:'numeric',hour:'2-digit',minute:'2-digit',hour12:false}):'--'}
let cdInt;
function render(d){
  const age=Date.now()-new Date(d.lastUpdate).getTime();
  document.getElementById('statusDot').className='status-dot '+(age<600000?'dot-green':'dot-red');
  document.getElementById('statusText').textContent=d.statusText||'--';
  document.getElementById('lastUpdate').textContent=fmt(d.lastUpdate);
  document.getElementById('btcPrice').textContent='$'+Number(d.btcPrice).toLocaleString('en',{maximumFractionDigits:0});
  document.getElementById('posCount').textContent=(d.positions||[]).length+'/3';
  const perf=d.performance||{};
  document.getElementById('fundingEarned').textContent='$'+(perf.totalFundingEarned||0).toFixed(4);
  document.getElementById('totalFees').textContent='$'+(perf.totalFees||0).toFixed(4);
  const net=perf.netProfit||0;
  const neEl=document.getElementById('netProfit');
  neEl.textContent=(net>=0?'+':'')+('$'+net.toFixed(4));
  neEl.className='value '+(net>=0?'profit':'loss');
  document.getElementById('tradeCount').textContent=perf.totalTrades||0;
  if(cdInt)clearInterval(cdInt);
  const nf=d.nextFunding;
  function upCD(){const df=nf-Date.now();if(df<=0){document.getElementById('countdown').textContent='çµç®—ä¸­...';return}const h=Math.floor(df/3600000),m=Math.floor((df%3600000)/60000),s=Math.floor((df%60000)/1000);document.getElementById('countdown').textContent=h+'h '+m+'m '+s+'s'}
  upCD();cdInt=setInterval(upCD,1000);
  const pa=document.getElementById('positionsArea');
  const pos=d.positions||[];
  if(pos.length===0){pa.innerHTML='<div class="pos-card empty"><p style="text-align:center;color:#888">ğŸŸ ç­‰å¾…æ­£è²»ç‡å¹£ç¨®ï¼Œæº–å‚™é–‹å€‰ä¸­...</p></div>'}
  else{pa.innerHTML=pos.map(p=>{
    const pnl=p.unrealizedPnl||0;const rc=p.currentRate||0;
    return`<div class="pos-card"><div class="sym">${p.symbol} <span class="rate-badge${rc<0?' neg':''}">${(rc*100).toFixed(4)}%/8h â†’ å¹´åŒ–${p.annualizedRate}</span></div><div class="grid"><span class="k">ç¾è²¨</span><span class="v">${p.spotQty}</span><span class="k">åˆç´„ç©º</span><span class="v">${p.futuresQty}</span><span class="k">å…¥å ´åƒ¹</span><span class="v">$${Number(p.entryPrice).toFixed(4)}</span><span class="k">æŒæœ‰</span><span class="v">${p.holdHours}h</span><span class="k">è²»ç‡æ”¶ç›Š</span><span class="v ${p.fundingEarned>=0?'profit':'loss'}">$${p.fundingEarned.toFixed(4)}</span><span class="k">çµç®—æ¬¡æ•¸</span><span class="v">${p.fundingCount}</span><span class="k">æœªå¯¦ç¾ç›ˆè™§</span><span class="v ${pnl>=0?'profit':'loss'}">${pnl>=0?'+':''}$${pnl.toFixed(4)}</span></div></div>`}).join('')}
  const ac=d.account||{};
  document.getElementById('acctArea').innerHTML=`<div class="acct-row"><span class="k">åˆç´„é¤˜é¡</span><span class="v">$${ac.futuresBalance||0}</span></div><div class="acct-row"><span class="k">åˆç´„å¯ç”¨</span><span class="v">$${ac.futuresAvailable||0}</span></div><div class="acct-row"><span class="k">ç¾è²¨ USDT</span><span class="v">$${ac.spotUsdt||0}</span></div>`;
  const hist=(perf.closedTrades||[]).slice().reverse();
  const tb=document.getElementById('histBody');
  if(hist.length===0){tb.innerHTML='<tr><td colspan="6" style="text-align:center;color:#888">ğŸ” é‚„æ²’æœ‰å·²å¹³å€‰äº¤æ˜“</td></tr>'}
  else{tb.innerHTML=hist.map(h=>{const n=h.netPnl||0;return`<tr><td><strong>${h.symbol}</strong></td><td>${h.holdHours}h</td><td class="profit">$${(h.fundingEarned||0).toFixed(4)}</td><td class="loss">$${(h.fees||0).toFixed(4)}</td><td class="${n>=0?'profit':'loss'}">${n>=0?'+':''}$${n.toFixed(4)}</td><td>${h.reason||''}</td></tr>`}).join('')}
  const rates=d.rateHistory||[];
  const maxA=Math.max(...rates.map(r=>Math.abs(r.rate)),0.0001);
  document.getElementById('rateChart').innerHTML=rates.slice(-15).map(r=>{const p=Math.abs(r.rate)/maxA*100;const c=r.rate>=0?'rpos':'rneg';const cl=r.rate>=0?'#00ff88':'#ff0066';return`<div class="rate-item"><span class="rlbl">${short(r.time)}</span><div class="rbar ${c}" style="width:${Math.max(p,3)}%"></div><span class="rval" style="color:${cl}">${(r.rate*100).toFixed(4)}%</span></div>`}).join('');
}
load();setInterval(load,60000);
</script>
</body>
</html>
